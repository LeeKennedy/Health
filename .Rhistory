filter(Date >"2015-11-30") %>%
filter(Date <"2016-03-29")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[120]), fill = "grey80") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
scale_y_continuous(breaks = seq(82, 96),1) +
ggtitle("Weight since DTS Greatest Loser Challenge started...\n") +
theme(plot.title = element_text(size = 18))
plot_wt
library(devtools)
install_github("MangoTheCat/tidyshiny")
library(tidyshiny)
tidyData()
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-03-29")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[120]), fill = "grey80") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
scale_y_continuous(breaks = seq(82, 96),1) +
ggtitle("Weight since DTS Greatest Loser Challenge started...\n") +
theme(plot.title = element_text(size = 18))
plot_wt
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-03-29")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[120]), fill = "grey80") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
scale_y_continuous(breaks = seq(82, 96),1) +
ggtitle("Weight since DTS Greatest Loser Challenge started...\n") +
theme(plot.title = element_text(size = 18))
plot_wt
weight2
tail(weight2)
head(weight2,120)
write.csv(weight2,"temp.csv")
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-03-29")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[120]), fill = "grey80") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "grey80") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
scale_y_continuous(breaks = seq(82, 96),1) +
ggtitle("Weight since DTS Greatest Loser Challenge started...\n") +
theme(plot.title = element_text(size = 18))
plot_wt
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[120]), fill = "grey80") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "lightblue1") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
scale_y_continuous(breaks = seq(82, 96),1) +
ggtitle("Weight since DTS Greatest Loser Challenge started...\n") +
theme(plot.title = element_text(size = 18))
plot_wt
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[120]), fill = "grey80") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
scale_y_continuous(breaks = seq(82, 96),1) +
ggtitle("Weight since DTS Greatest Loser Challenge started...\n") +
theme(plot.title = element_text(size = 18))
plot_wt
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-03-29")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[120]), fill = "grey80") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
scale_y_continuous(breaks = seq(82, 96),1) +
ggtitle("Weight since DTS Greatest Loser Challenge started...\n") +
theme(plot.title = element_text(size = 18))
plot_wt
library(ProjectTemplate)
load.project()
cholesterol <- read_excel("rawdata/Healthcheck.xlsx", sheet=7)
cholesterol <- read_excel("rawdata/Healthcheck.xlsx", sheet="Tests")
cholesterol <- read_excel("rawdata/Healthcheck.xlsx", sheet="Tests")
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
cholesterol <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
cholesterol <- read_excel("rawdata/Healthcheck.xlsx", sheet=2)
cholesterol <- read_excel("rawdata/Healthcheck.xlsx", sheet=3)
cholesterol <- cholesterol[,c(1,2,4,5)]
cholesterol <- read_excel("rawdata/Healthcheck.xlsx", sheet=3)
cholesterol <- na.omit(cholesterol[,c(1,2,4,5)])
chol_plot <- ggplot(cholesterol, aes(x=Date, y = Chol)) +
geom_point()
chol_plot
tidyshiny:::tidyData()
chol_lonh <- gather(data=cholesterol,key=Type,value=Level,na.rm=FALSE,Chol,HDL,LDL)
chol_long <- gather(data=cholesterol,key=Type,value=Level,na.rm=FALSE,Chol,HDL,LDL)
library(ProjectTemplate)
load.project()
cholesterol <- read_excel("rawdata/Healthcheck.xlsx", sheet=3)
cholesterol <- na.omit(cholesterol[,c(1,2,4,5)])
chol_long <- gather(data=cholesterol,key=Type,value=Level,na.rm=FALSE,Chol,HDL,LDL)
chol_plot <- ggplot(chol_long, aes(x=Date, y = Level, fill = Type)) +
geom_point(size = 4, shape = 21, colour = "black")
chol_plot
chol_plot <- ggplot(chol_long, aes(x=Date, y = Level, group = Level, fill = Type)) +
geom_point(size = 4, shape = 21, colour = "black") +
geom_line(lwd=1)
chol_plot
chol_plot <- ggplot(chol_long, aes(x=Date, y = Level, group = Level, fill = Type)) +
geom_point(size = 4, shape = 21, colour = "black") +
geom_line(lwd = 1)
chol_plot
chol_plot <- ggplot(chol_long, aes(x=Date, y = Level, group = Type, fill = Type)) +
geom_point(size = 4, shape = 21, colour = "black") +
geom_line(lwd = 1)
chol_plot
chol_plot <- ggplot(chol_long, aes(x=Date, y = Level, group = Type, fill = Type)) +
geom_point(size = 4, shape = 21, colour = "black") +
geom_line(lwd = 1, colour = Type)
chol_plot
chol_plot <- ggplot(chol_long, aes(x=Date, y = Level, group = Type, fill = Type)) +
geom_point(size = 4, shape = 21, colour = "black") +
geom_line(lwd = 1, aes(colour = Type))
chol_plot
chol_plot <- ggplot(chol_long, aes(x=Date, y = Level, group = Type, fill = Type)) +
geom_point(size = 4, shape = 21, colour = "black") +
geom_line(lwd = 1, aes(colour = Type)) +
labs(title = "Cholesterol\n")
chol_plot
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-04-30")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey80") +
geom_rect(aes(ymin = 87, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey90") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
annotate("text", x = weight2$Date[103], y = 90, label = "Holiday") +
scale_y_continuous(breaks = seq(82, 96),1) +
labs(title="Weight since DTS Greatest Loser Challenge started...\n", y="") +
theme(plot.title = element_text(size = 18))
plot_wt
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-04-30")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey80") +
geom_rect(aes(ymin = 87, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey90") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
annotate("text", x = weight2$Date[103], y = 90, label = "Holiday") +
scale_y_continuous(breaks = seq(82, 96),1) +
labs(title="Weight since DTS Greatest Loser Challenge started...\n", y="") +
theme(plot.title = element_text(size = 18))
plot_wt
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey80") +
geom_rect(aes(ymin = 87, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey90") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
annotate("text", x = weight2$Date[103], y = 90, label = "Holiday") +
scale_y_continuous(breaks = seq(82, 96),1) +
labs(title="Weight since DTS Greatest Loser Challenge started...\n", y="") +
theme(plot.title = element_text(size = 14))
plot_wt
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-04-30")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey80") +
geom_rect(aes(ymin = 87, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey90") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
annotate("text", x = weight2$Date[103], y = 90, label = "Holiday") +
scale_y_continuous(breaks = seq(82, 96),1) +
labs(title="Weight since DTS Greatest Loser Challenge started...\n", y="") +
theme(plot.title = element_text(size = 14))
plot_wt
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-04-30")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey80") +
geom_rect(aes(ymin = 87, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey90") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
annotate("text", x = weight2$Date[103], y = 90, label = "Holiday") +
scale_y_continuous(breaks = seq(82, 96),1) +
labs(title="Weight since DTS Greatest Loser Challenge started...\n", y="") +
theme(plot.title = element_text(size = 14))
plot_wt
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-04-30")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey80") +
geom_rect(aes(ymin = 87, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey90") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
annotate("text", x = weight2$Date[103], y = 90, label = "Holiday") +
scale_y_continuous(breaks = seq(82, 96),1) +
labs(title="Weight since DTS Greatest Loser Challenge started...\n", y="") +
theme(plot.title = element_text(size = 14))
plot_wt
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-04-30")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey80") +
geom_rect(aes(ymin = 87, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey90") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
annotate("text", x = weight2$Date[103], y = 90, label = "Holiday") +
scale_y_continuous(breaks = seq(82, 96),1) +
labs(title="Weight since DTS Greatest Loser Challenge started...\n", y="") +
theme(plot.title = element_text(size = 14))
plot_wt
library(ProjectTemplate)
load.project()
data <- read_excel("rawdata/Healthcheck.xlsx",2, skip=18)
data1 <- select(data, Date, Temp1, Temp2, Temp3)%>%
mutate(Temp1 = as.numeric(as.character(Temp1)),
Temp2 = as.numeric(as.character(Temp2)),
Temp3 = as.numeric(as.character(Temp3)))%>%
mutate(Ave.Temp = (Temp1 + Temp2 + Temp3)/3)
data1$Date <- ymd(data1$Date)
data1 <- data1[,c(1:4)]
data1 <- na.omit(data1)
data3 <- gather(data1, Type, Reading, -Date)
dev.off()
plot <- ggplot(data3, aes(Date, Reading, colour = Type)) +
geom_point(size=4, shape=21) +
geom_smooth(lwd=1) +
scale_colour_brewer(palette="Set1") +
theme_bw() +
theme(panel.grid.major = element_line(size = 0.5, color = "grey"),
axis.line = element_line(size = 0.7, color = "black"),
text = element_text(size = 14))
plot
library(ProjectTemplate)
load.project()
data <- read_excel("rawdata/Healthcheck.xlsx",2, skip=18)
data1 <- select(data, everything())%>%
mutate(Systolic = as.numeric(as.character(A)),
Diastolic = as.numeric(as.character(B)))
data2 <- data1[,c(1,16,17)]
data2 <- na.omit(data2)
data2$Date <- ymd(data2$Date)
data3 <- gather(data2, Type, Reading, -Date)
plot <- ggplot(data3, aes(Date, Reading, colour = Type)) +
geom_point(size=4, shape=21) +
geom_smooth(lwd=1) +
scale_colour_brewer(palette="Set1") +
theme_bw() +
theme(panel.grid.major = element_line(size = 0.5, color = "grey"),
axis.line = element_line(size = 0.7, color = "black"),
text = element_text(size = 14))
plot
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-04-30")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey80") +
geom_rect(aes(ymin = 87, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey90") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
annotate("text", x = weight2$Date[103], y = 90, label = "Holiday") +
scale_y_continuous(breaks = seq(82, 96),1) +
labs(title="Weight since DTS Greatest Loser Challenge started...\n", y="") +
theme(plot.title = element_text(size = 14))
plot_wt
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-04-30")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey80") +
geom_rect(aes(ymin = 87, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey90") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
annotate("text", x = weight2$Date[103], y = 90, label = "Holiday") +
scale_y_continuous(breaks = seq(82, 96),1) +
labs(title="Weight since DTS Greatest Loser Challenge started...\n", y="") +
theme(plot.title = element_text(size = 14))
plot_wt
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-04-30")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey80") +
geom_rect(aes(ymin = 87, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey90") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
annotate("text", x = weight2$Date[103], y = 90, label = "Holiday") +
scale_y_continuous(breaks = seq(82, 96),1) +
labs(title="Weight since DTS Greatest Loser Challenge started...\n", y="") +
theme(plot.title = element_text(size = 14))
plot_wt
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-04-30")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey80") +
geom_rect(aes(ymin = 87, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey90") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
annotate("text", x = weight2$Date[103], y = 90, label = "Holiday") +
scale_y_continuous(breaks = seq(82, 96),1) +
labs(title="Weight since DTS Greatest Loser Challenge started...\n", y="") +
theme(plot.title = element_text(size = 14))
plot_wt
library(ProjectTemplate)
load.project()
data <- read_excel("rawdata/Healthcheck.xlsx",2, skip=18)
data1 <- select(data, everything())%>%
mutate(Systolic = as.numeric(as.character(A)),
Diastolic = as.numeric(as.character(B)))
data2 <- data1[,c(1,16,17)]
data2 <- na.omit(data2)
data2$Date <- ymd(data2$Date)
data3 <- gather(data2, Type, Reading, -Date)
plot <- ggplot(data3, aes(Date, Reading, colour = Type)) +
geom_point(size=4, shape=21) +
geom_smooth(lwd=1) +
scale_colour_brewer(palette="Set1") +
theme_bw() +
theme(panel.grid.major = element_line(size = 0.5, color = "grey"),
axis.line = element_line(size = 0.7, color = "black"),
text = element_text(size = 14))
plot
library(ProjectTemplate)
load.project()
weight <- read_excel("rawdata/Healthcheck.xlsx", sheet=1)
weight2 <- weight %>%
filter(Date >"2015-11-30") %>%
filter(Date <"2016-04-30")
cache("weight2")
#dev.off()
#Weight
plot_wt <- ggplot(weight2, aes(Date,Weight)) +
geom_rect(aes(ymin = 85, ymax = 87, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey80") +
geom_rect(aes(ymin = 87, ymax = 88, xmin = weight2$Date[1], xmax = weight2$Date[151]), fill = "grey90") +
geom_rect(aes(ymin = 85, ymax = 96, xmin = weight2$Date[101], xmax = weight2$Date[105]), fill = "moccasin") +
geom_point(shape = 21, fill = "cornflowerblue", colour = "blue", size = 6) +
geom_smooth(method=loess, colour = "darkgreen", size = 2) +
geom_hline(yintercept = 95.3, lty=2, col="red") +
geom_vline(xintercept=as.numeric(weight2$Date[71]), lty=2, col="red") +
theme_bw() +
annotate("text", x = weight2$Date[103], y = 90, label = "Holiday") +
scale_y_continuous(breaks = seq(82, 96),1) +
labs(title="Weight since DTS Greatest Loser Challenge started...\n", y="") +
theme(plot.title = element_text(size = 14))
plot_wt
